{"version":3,"sources":["webpack:///static/js/app.b3d6f6b96918b21a4434.js","webpack:///src/App.vue","webpack:///src/components/InputPage.vue","webpack:///src/components/CardPage.vue","webpack:///./src/main.js","webpack:///./src/App.vue","webpack:///./src/App.vue?298d","webpack:///./src/router/index.js","webpack:///./src/components/InputPage.vue","webpack:///./src/components/InputPage.vue?c3f2","webpack:///./src/components/CardPage.vue","webpack:///./src/draw/base.js","webpack:///./src/assets/promise-card.png","webpack:///./src/components/CardPage.vue?5999"],"names":["webpackJsonp","25","module","__webpack_exports__","__webpack_require__","name","created","p","26","data","jobList","methods","formSubmit","ev","form","target","value","phone","job","this","$router","push","query","preventDefault","27","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2__draw_base_js__","__WEBPACK_IMPORTED_MODULE_3__assets_promise_card_png__","__WEBPACK_IMPORTED_MODULE_3__assets_promise_card_png___default","drawDone","imgSrc","a","cardSrc","mounted","_this","mark","_callee","img","wrap","_context","prev","next","$refs","cardTemplate","complete","draw","onload","_","stop","_this2","_callee2","_context2","drawCard","background","canvas","info","$route","sent","42","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_2__router__","Vue","config","productionTip","el","router","render","h","App","46","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_58612134_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","47","exports","49","_vm","_h","$createElement","_c","_self","attrs","id","staticRenderFns","esExports","50","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_InputPage__","__WEBPACK_IMPORTED_MODULE_3__components_CardPage__","use","Router","routes","path","component","InputPage","CardPage","mode","52","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_InputPage_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_94288e2c_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_InputPage_vue__","53","54","staticClass","on","submit","placeholder","_v","type","_l","index","key","domProps","_s","55","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_CardPage_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cc5b002e_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_CardPage_vue__","56","96","setCanvasSize","_ref","width","naturalWidth","height","naturalHeight","_ref2","arguments","percent","getPercentLength","ctx","getContext","drawImage","fillStyle","font","fillText","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","toDataURL","length","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","97","98","src","_e","ref","_m","hidden"],"mappings":"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","file":"static/js/app.b3d6f6b96918b21a4434.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 25:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app',\n  created: function created() {\n    __webpack_require__.p + \"static/promise-card.png\";\n  }\n});\n\n/***/ }),\n\n/***/ 26:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      jobList: ['网络建设', '一线服务', '服务支撑', '市场营销', '行政服务']\n    };\n  },\n\n  methods: {\n    formSubmit: function formSubmit(ev) {\n      var form = ev.target;\n      var name = form.name.value;\n      var phone = form.phone.value;\n      var job = form.job.value;\n      this.$router.push({\n        name: 'card',\n        query: {\n          name: name, phone: phone, job: job\n        }\n      });\n      ev.preventDefault();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(57);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__draw_base_js__ = __webpack_require__(96);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__assets_promise_card_png__ = __webpack_require__(97);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__assets_promise_card_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__assets_promise_card_png__);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      drawDone: false,\n      imgSrc: __WEBPACK_IMPORTED_MODULE_3__assets_promise_card_png___default.a,\n      cardSrc: \"\"\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var _this = this;\n\n    return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee() {\n      var img;\n      return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // 等待图片加载完成并绘制\n              /** @type {HTMLImageElement} */\n              img = _this.$refs.cardTemplate;\n\n              img.complete ? _this.draw() : img.onload = function (_) {\n                return _this.draw();\n              };\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }))();\n  },\n\n  methods: {\n    draw: function draw() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                debugger;\n                _context2.next = 3;\n                return __WEBPACK_IMPORTED_MODULE_2__draw_base_js__[\"a\" /* default */].drawCard({\n                  background: _this2.$refs.cardTemplate,\n                  canvas: _this2.$refs.canvas,\n                  info: _this2.$route.query\n                });\n\n              case 3:\n                _this2.cardSrc = _context2.sent;\n\n                _this2.drawDone = true;\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this2);\n      }))();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(50);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */]);\n  }\n});\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(25);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_58612134_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(49);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(47)\n}\nvar normalizeComponent = __webpack_require__(15)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_58612134_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('main',[_c('router-view')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(51);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_InputPage__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_CardPage__ = __webpack_require__(55);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'input',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_InputPage__[\"a\" /* default */]\n  }, {\n    path: '/card',\n    name: 'card',\n    component: __WEBPACK_IMPORTED_MODULE_3__components_CardPage__[\"a\" /* default */]\n  }],\n  mode: \"hash\"\n}));\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_InputPage_vue__ = __webpack_require__(26);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_94288e2c_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_InputPage_vue__ = __webpack_require__(54);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(53)\n}\nvar normalizeComponent = __webpack_require__(15)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_InputPage_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_94288e2c_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_InputPage_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-input\"},[_c('form',{on:{\"submit\":_vm.formSubmit}},[_c('input',{attrs:{\"name\":\"name\",\"placeholder\":\"请输入你的姓名\"}}),_vm._v(\" \"),_c('input',{attrs:{\"name\":\"phone\",\"type\":\"tel\",\"placeholder\":\"请输入你的手机号码\"}}),_vm._v(\" \"),_c('select',{attrs:{\"name\":\"job\"}},_vm._l((_vm.jobList),function(job,index){return _c('option',{key:index,domProps:{\"value\":job}},[_vm._v(_vm._s(job))])})),_vm._v(\" \"),_c('button',{staticClass:\"submit\",attrs:{\"type\":\"submit\"}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_CardPage_vue__ = __webpack_require__(27);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cc5b002e_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_CardPage_vue__ = __webpack_require__(98);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(56)\n}\nvar normalizeComponent = __webpack_require__(15)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_CardPage_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cc5b002e_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_CardPage_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 56:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n\n/**\n * @typedef {object} drawOption\n * @property {HTMLImageElement} background\n * @property {HTMLCanvasElement} canvas\n * @property {object} info\n * @property {string} info.name\n * @property {string} info.phone\n * @property {string} info.job\n */\n\n/** @param {drawOption} canvas*/\nfunction setCanvasSize(_ref) {\n    var canvas = _ref.canvas,\n        background = _ref.background,\n        info = _ref.info;\n\n    canvas.width = background.naturalWidth;\n    canvas.height = background.naturalHeight;\n}\n\n/**\n * 绘制承诺卡\n * @param {drawOption} option\n */\nfunction drawCard(_ref2) {\n    var canvas = _ref2.canvas,\n        background = _ref2.background,\n        info = _ref2.info;\n\n    setCanvasSize.apply(undefined, arguments);\n    var p = function p(percent) {\n        return getPercentLength(canvas.width, percent);\n    };\n    var ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(background, 0, 0, canvas.width, canvas.height);\n\n    ctx.fillStyle = \"#2070d0\";\n    ctx.font = \"bold \" + p(3.8) + \"px 'Microsoft Yahei'\";\n    ctx.fillText(info.job, p(38), p(45.5));\n    ctx.fillText(info.name, p(62.5), p(45.5));\n    ctx.fillText(info.phone, p(28), p(52));\n\n    ctx.font = \"bold \" + p(5) + \"px 'Microsoft Yahei'\";\n    ctx.fillStyle = \"black\";\n    ctx.fillText(info.name, p(71), p(142.5));\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(canvas.toDataURL(\"image/png\"));\n}\n\nfunction getPercentLength(length, percent) {\n    return length * percent / 100;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    setCanvasSize: setCanvasSize,\n    drawCard: drawCard\n});\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/img/promise-card.515bf23.png\";\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-card\"},[(_vm.cardSrc)?_c('img',{staticClass:\"promise-card\",attrs:{\"src\":_vm.cardSrc}}):_vm._e(),_vm._v(\" \"),_c('canvas',{ref:\"canvas\",staticClass:\"canvas\"}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),(_vm.drawDone)?_c('div',{staticClass:\"instruction\"},[_vm._v(\"<长按保存你的承诺书>\")]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{ref:\"cardTemplate\",attrs:{\"src\":_vm.imgSrc,\"hidden\":\"\"}})}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n},[42]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.b3d6f6b96918b21a4434.js","<template>\n  <div id=\"app\">\n    <main>\n      <router-view></router-view>\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n  created(){\n    __webpack_public_path__ + \"static/promise-card.png\"\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n}\n\n#app {\n  min-height: 150vw;\n  height: 100vh;\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  background: #fff url(\"./assets/bg1.png\") top center/100% auto no-repeat;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n    <div class=\"page-input\">\n        <form @submit=\"formSubmit\">\n            <input name=\"name\" placeholder=\"请输入你的姓名\"/>\n            <input name=\"phone\" type=\"tel\" placeholder=\"请输入你的手机号码\"/>\n            <select name=\"job\">\n                <option v-for=\"(job, index) in jobList\" :key=\"index\" :value=\"job\">{{job}}</option>\n            </select>\n            <!-- 立即生成承诺书 -->\n            <button class=\"submit\" type=\"submit\"></button>\n        </form>\n    </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      jobList: [\n        '网络建设',\n        '一线服务',\n        '服务支撑',\n        '市场营销',\n        '行政服务'\n      ]\n    }\n  },\n  methods: {\n    formSubmit (ev) {\n      let form = ev.target\n      let name = form.name.value\n      let phone = form.phone.value\n      let job = form.job.value\n      this.$router.push({\n        name: 'card',\n        query: {\n          name, phone, job\n        },\n      })\n      ev.preventDefault()\n    }\n  }\n}\n</script>\n\n<style>\n.page-input {\n  display: flex;\n  justify-content: center;\n}\nform {\n  margin-top: 83.8vw;\n  width: 70vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\ninput,\nselect,\nbutton {\n  height: 7.8vw;\n  width: 47.5vw;\n  margin-left: 12.5vw;\n  padding-left: 2vw;\n  box-sizing: border-box;\n  margin-bottom: 3.6vw;\n  background: transparent;\n  border: none;\n}\n\ninput {\n  /* border: 1px red solid; */\n}\nselect {\n  appearance: none;\n}\n\nbutton.submit {\n  margin-top: 0.5vw;\n  height: 8.2vw;\n  margin-left: 0;\n  width: 60vw;\n  border: none;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/InputPage.vue","<template>\n     <div class=\"page-card\">\n        <img class=\"promise-card\" v-if=\"cardSrc\" :src=\"cardSrc\"/>\n        <canvas class=\"canvas\" ref=\"canvas\"></canvas>\n        <img v-once :src=\"imgSrc\" hidden ref=\"cardTemplate\"/>\n        <div v-if=\"drawDone\" class=\"instruction\">&lt;长按保存你的承诺书&gt;</div>\n    </div>\n</template>\n\n<script>\nimport drawSvc from \"../draw/base.js\";\nimport imgSrc from \"../assets/promise-card.png\";\n\nexport default {\n  data() {\n    return {\n      drawDone: false,\n      imgSrc: imgSrc,\n      cardSrc: \"\"\n    };\n  },\n  created() {\n  },\n  async mounted(){\n    // 等待图片加载完成并绘制\n    /** @type {HTMLImageElement} */\n    let img = this.$refs.cardTemplate;\n    img.complete\n    ? this.draw()\n    : img.onload = _ => this.draw();\n  },\n  methods: {\n    async draw(){\n      debugger;\n      this.cardSrc = await drawSvc.drawCard({\n        background: this.$refs.cardTemplate,\n        canvas: this.$refs.canvas,\n        info: this.$route.query\n      })\n      this.drawDone = true\n    }\n  }\n};\n</script>\n\n<style>\n.page-card{\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n}\n\n.canvas{\n  display: block;\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  left: 0;\n  top: 0;\n  opacity: 0;\n}\n\n.promise-card{\n  display: block;\n  position: absolute;\n  z-index: 0;\n  margin-top: 20vw;\n  width: 80vw;\n  /* height: 120vw; */\n}\n\n.instruction{\n  display: block;\n  position: absolute;\n  left: 55vw;\n  top: 136vw;\n  color: #999;\n  font-size: 2.1vw;\n  pointer-events: none; \n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/CardPage.vue","import Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-58612134\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-58612134\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 46\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('main',[_c('router-view')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-58612134\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 49\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\nimport InputPage from '@/components/InputPage'\nimport CardPage from '@/components/CardPage'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'input',\n      component: InputPage\n    },\n    {\n      path: '/card',\n      name: 'card',\n      component: CardPage\n    }\n  ],\n  mode: \"hash\"\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-94288e2c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InputPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./InputPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./InputPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-94288e2c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./InputPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/InputPage.vue\n// module id = 52\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-input\"},[_c('form',{on:{\"submit\":_vm.formSubmit}},[_c('input',{attrs:{\"name\":\"name\",\"placeholder\":\"请输入你的姓名\"}}),_vm._v(\" \"),_c('input',{attrs:{\"name\":\"phone\",\"type\":\"tel\",\"placeholder\":\"请输入你的手机号码\"}}),_vm._v(\" \"),_c('select',{attrs:{\"name\":\"job\"}},_vm._l((_vm.jobList),function(job,index){return _c('option',{key:index,domProps:{\"value\":job}},[_vm._v(_vm._s(job))])})),_vm._v(\" \"),_c('button',{staticClass:\"submit\",attrs:{\"type\":\"submit\"}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-94288e2c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/InputPage.vue\n// module id = 54\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cc5b002e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CardPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CardPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CardPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cc5b002e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CardPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CardPage.vue\n// module id = 55\n// module chunks = 1","/**\n * @typedef {object} drawOption\n * @property {HTMLImageElement} background\n * @property {HTMLCanvasElement} canvas\n * @property {object} info\n * @property {string} info.name\n * @property {string} info.phone\n * @property {string} info.job\n */\n\n\n/** @param {drawOption} canvas*/\nfunction setCanvasSize({ canvas, background, info }) {\n    canvas.width = background.naturalWidth;\n    canvas.height = background.naturalHeight;\n}\n\n/**\n * 绘制承诺卡\n * @param {drawOption} option\n */\nfunction drawCard({ canvas, background, info }) {\n    setCanvasSize(...arguments);\n    let p = percent => getPercentLength(canvas.width, percent);\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(background, 0, 0, canvas.width, canvas.height);\n\n    ctx.fillStyle = \"#2070d0\"\n    ctx.font = `bold ${p(3.8)}px 'Microsoft Yahei'`\n    ctx.fillText(info.job,   p(38),   p(45.5));\n    ctx.fillText(info.name,  p(62.5), p(45.5));\n    ctx.fillText(info.phone, p(28),   p(52));\n\n    ctx.font = `bold ${p(5)}px 'Microsoft Yahei'`\n    ctx.fillStyle = \"black\"\n    ctx.fillText(info.name,  p(71), p(142.5));\n\n    return Promise.resolve(canvas.toDataURL(\"image/png\"));\n}\n\nfunction getPercentLength(length, percent){\n    return length * percent / 100;\n}\n\n\nexport default {\n    setCanvasSize,\n    drawCard\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/draw/base.js","module.exports = __webpack_public_path__ + \"static/img/promise-card.515bf23.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/promise-card.png\n// module id = 97\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-card\"},[(_vm.cardSrc)?_c('img',{staticClass:\"promise-card\",attrs:{\"src\":_vm.cardSrc}}):_vm._e(),_vm._v(\" \"),_c('canvas',{ref:\"canvas\",staticClass:\"canvas\"}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),(_vm.drawDone)?_c('div',{staticClass:\"instruction\"},[_vm._v(\"<长按保存你的承诺书>\")]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{ref:\"cardTemplate\",attrs:{\"src\":_vm.imgSrc,\"hidden\":\"\"}})}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cc5b002e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/CardPage.vue\n// module id = 98\n// module chunks = 1"],"sourceRoot":""}